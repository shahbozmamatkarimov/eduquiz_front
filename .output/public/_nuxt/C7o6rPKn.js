import{a as z,k as q,l as B,u as J}from"./Dj6-4mtL.js";import{g as K,S as Q,c as P,f as V,d as Y,j as Z,a4 as F,B as R,a1 as d,a2 as U,a7 as j,ae as r,af as v,u as o,I as H,A as I,ag as ee,ac as m,ah as O,M as T,z as k,ai as C}from"./Dy6yNQJR.js";import{_ as te}from"./C51a3vxn.js";import{_ as oe}from"./C6Sjh23p.js";import{_ as A,a as M}from"./Cox7BQnj.js";function se(n,e){const i=e/n*100;return 2/Math.PI*100*Math.atan(i/50)}function re(n={}){const{duration:e=2e3,throttle:i=200,hideDelay:c=500,resetDelay:t=400}=n,g=n.estimatedProgress||se,u=z(),s=P(0),p=P(!1),y=P(!1);let f=!1,_,a,L,D;const S=()=>{y.value=!1,E(0)};function E(l=0){if(!u.isHydrating){if(l>=100)return h();w(),s.value=l<0?0:l,i?a=setTimeout(()=>{p.value=!0,N()},i):(p.value=!0,N())}}function W(){L=setTimeout(()=>{p.value=!1,D=setTimeout(()=>{s.value=0},t)},c)}function h(l={}){s.value=100,f=!0,w(),X(),l.error&&(y.value=!0),l.force?(s.value=0,p.value=!1):W()}function X(){clearTimeout(L),clearTimeout(D)}function w(){clearTimeout(a),cancelAnimationFrame(_)}function N(){f=!1;let l;function b(x){if(f)return;l??(l=x);const G=x-l;s.value=Math.max(0,Math.min(100,g(e,G))),_=requestAnimationFrame(b)}_=requestAnimationFrame(b)}let $=()=>{};{const l=u.hook("page:loading:start",()=>{S()}),b=u.hook("page:loading:end",()=>{h()}),x=u.hook("vue:error",()=>h());$=()=>{x(),l(),b(),w()}}return{_cleanup:$,progress:V(()=>s.value),isLoading:V(()=>p.value),error:V(()=>y.value),start:S,set:E,finish:h,clear:w}}function ae(n={}){const e=z(),i=e._loadingIndicator=e._loadingIndicator||re(n);return K()&&(e._loadingIndicatorDeps=e._loadingIndicatorDeps||0,e._loadingIndicatorDeps++,Q(()=>{e._loadingIndicatorDeps--,e._loadingIndicatorDeps===0&&(i._cleanup(),delete e._loadingIndicator)})),i}const ne=Y({name:"NuxtLoadingIndicator",props:{throttle:{type:Number,default:200},duration:{type:Number,default:2e3},height:{type:Number,default:3},color:{type:[String,Boolean],default:"repeating-linear-gradient(to right,#00dc82 0%,#34cdfe 50%,#0047e1 100%)"},errorColor:{type:String,default:"repeating-linear-gradient(to right,#f87171 0%,#ef4444 100%)"},estimatedProgress:{type:Function,required:!1}},setup(n,{slots:e,expose:i}){const{progress:c,isLoading:t,error:g,start:u,finish:s,clear:p}=ae({duration:n.duration,throttle:n.throttle,estimatedProgress:n.estimatedProgress});return i({progress:c,isLoading:t,error:g,start:u,finish:s,clear:p}),()=>Z("div",{class:"nuxt-loading-indicator",style:{position:"fixed",top:0,right:0,left:0,pointerEvents:"none",width:"auto",height:`${n.height}px`,opacity:t.value?1:0,background:g.value?n.errorColor:n.color||void 0,backgroundSize:`${100/c.value*100}% auto`,transform:`scaleX(${c.value}%)`,transformOrigin:"left",transition:"transform 0.1s, height 0.4s, opacity 0.4s",zIndex:999999}},e)}}),ie={class:"space-y-8 bg-white rounded-lg p-6 text-center _c07"},le={class:"!mt-4"},de=["type"],ue={class:"text-start text-red-600 font-medium"},ce={class:"space-y-5"},pe={class:"text-xs"},me={__name:"Verification",setup(n){const e=q(),i=B();return(c,t)=>{const g=F("el-dialog"),u=R("loading");return d(),U(g,{modelValue:o(e).modal.verification,"onUpdate:modelValue":t[4]||(t[4]=s=>o(e).modal.verification=s),width:"400","align-center":"",class:"bg-opacity-50 !rounded-lg"},{default:j(()=>[r("section",ie,[t[8]||(t[8]=r("h1",{class:"_c07 text-2xl font-semibold"},"We sent you a code",-1)),r("p",le," Enter it below to verify "+v(o(e).verification.email),1),r("form",{onSubmit:t[1]||(t[1]=H((...s)=>o(e).authVerify&&o(e).authVerify(...s),["prevent"])),class:"space-y-5"},[I(r("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>o(e).verification.verify_code=s),autofocus:"",type:"number",placeholder:"Verification code",required:""},null,512),[[ee,o(e).verification.verify_code]]),I((d(),m("button",{type:o(i).isLoadingType("activate")?"button":"submit",class:O(["font-semibold w-full rounded-[4px]",o(e).verification.verify_code?"b_cbc _c07":"b_ce0 _ca1"])},t[5]||(t[5]=[T(" Verify ")]),10,de)),[[u,o(i).isLoadingType("activate")]]),r("p",ue,v(o(e).store.errorMessage),1)],32),r("div",ce,[r("p",pe,[t[6]||(t[6]=T(" Didn't get the email? ")),r("button",{type:"button",onClick:t[2]||(t[2]=(...s)=>o(e).authResend&&o(e).authResend(...s)),class:"_c2a font-medium hover:underline"}," Resend it "),t[7]||(t[7]=T(" or ")),r("button",{type:"button",onClick:t[3]||(t[3]=()=>{o(e).modal.verification=!1,o(e).modal.register=!0}),class:"_c2a font-medium hover:underline"}," Use a different email ")])])])]),_:1},8,["modelValue"])}}},ge={class:"flex items-center justify-center overflow-hidden overflow-y-auto min-h-screen max-h-screen"},fe={class:"space-y-8 bg-white rounded-lg p-6 text-center w-full max-w-[350px]"},_e={class:"flex relative"},ye={class:"w-full"},ve={key:0,class:"_ceb !mt-1 !-mb-3 text-xs"},he={class:"flex relative"},we={class:"w-full"},be={key:1,class:"_ceb !mt-1 !-mb-3 text-xs"},xe={class:"text-start text-red-600 font-medium"},Ie={__name:"index",setup(n){J();const e=q(),i=B();return(c,t)=>{var f,_;const g=ne,u=F("router-link"),s=te,p=me,y=R("loading");return d(),m("main",ge,[k(g,{height:"4",color:"#2a85ff"}),r("section",fe,[k(u,{class:"flex justify-center",to:"/"},{default:j(()=>t[8]||(t[8]=[r("img",{src:oe,alt:""},null,-1)])),_:1,__:[8]}),t[10]||(t[10]=r("h1",{class:"_c07 text-2xl font-semibold"},"Create a new password",-1)),r("form",{class:"space-y-5 text-center",onSubmit:t[7]||(t[7]=H((...a)=>o(e).resetPassword&&o(e).resetPassword(...a),["prevent"]))},[r("div",_e,[r("div",ye,[k(s,{id:"new_password",type:o(e).store.passType,modelValue:o(e).changepassword.new_password,"onUpdate:modelValue":t[0]||(t[0]=a=>o(e).changepassword.new_password=a),label:"New password",required:""},null,8,["type","modelValue"])]),o(e).store.passType=="password"?(d(),m("img",{key:0,loading:"lazy",onClick:t[1]||(t[1]=(...a)=>o(e).changePassType&&o(e).changePassType(...a)),class:"absolute top-0 right-0 p-4 cursor-pointer",src:A,alt:""})):(d(),m("img",{key:1,loading:"lazy",onClick:t[2]||(t[2]=(...a)=>o(e).changePassType&&o(e).changePassType(...a)),class:"absolute top-0 right-0 p-4 cursor-pointer",src:M,alt:""}))]),(f=o(e).store.passwordError)!=null&&f.length&&o(e).store.passwordError[0]==0?(d(),m("p",ve,v(o(e).store.passwordError[1]),1)):C("",!0),r("div",he,[r("div",we,[k(s,{id:"confirm_password",type:o(e).store.passType,modelValue:o(e).changepassword.confirm_password,"onUpdate:modelValue":t[3]||(t[3]=a=>o(e).changepassword.confirm_password=a),label:"Repeat new password",required:""},null,8,["type","modelValue"])]),o(e).store.passType=="password"?(d(),m("img",{key:0,loading:"lazy",onClick:t[4]||(t[4]=(...a)=>o(e).changePassType&&o(e).changePassType(...a)),class:"absolute top-0 right-0 p-4 cursor-pointer",src:A,alt:""})):(d(),m("img",{key:1,loading:"lazy",onClick:t[5]||(t[5]=(...a)=>o(e).changePassType&&o(e).changePassType(...a)),class:"absolute top-0 right-0 p-4 cursor-pointer",src:M,alt:""}))]),(_=o(e).store.passwordError)!=null&&_.length&&o(e).store.passwordError[0]==1?(d(),m("p",be,v(o(e).store.passwordError[1]),1)):C("",!0),r("p",xe,v(o(e).store.errorMessage),1),I((d(),m("button",{type:"submit",onClick:t[6]||(t[6]=(...a)=>c.register&&c.register(...a)),class:O(["rounded-full px-5 py-2 black_24",o(e).store.is_matched?"b_main c_main":"b_ccc c_ccc"])},t[9]||(t[9]=[T(" Change password ")]),2)),[[y,o(i).isLoadingType("changePass")]])],32)]),o(e).modal.verification?(d(),U(p,{key:0})):C("",!0)])}}};export{Ie as default};
